include:
  - remote: https://gitlab.esrf.fr/workflow/ewoks/ewoks/raw/main/.gitlab-ci-template.yml

test-3.6:
  extends: .test-3.6_glx

test-3.6-orange:
  extends: .test-3.6_glx
  script:
    - python3 -m pip install Orange3  # install without --pre
    - python3 -m pip install --pre .[test,orange]
    - python3 -m pytest -v .

test-3.6-oasys:
  extends: .test-3.6_glx
  script:
    - python3 -m pip install --no-deps .
    - python3 -m pip install ewoksutils
    - python3 -m pip install ewokscore[test]
    - python3 -m pip install importlib_resources  # python_version < "3.7"
    - python3 -m pip install AnyQt
    - python3 -m pip install oasys1
    - python3 -m pytest -v .

build_sdist:
  extends: .build_sdist

test_sdist-3.6:
  extends: .test_sdist-3.6_glx

build_doc:
  extends: .build_doc

pages:
  extends: .pages

assets:
  extends: .assets

